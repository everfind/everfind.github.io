"use strict";(self.webpackChunkeverfind_website=self.webpackChunkeverfind_website||[]).push([[4361],{8247:(e,t,r)=>{r.r(t),r.d(t,{data:()=>s});const s={key:"v-47ef58ee",path:"/courses/architecture-of-react-app/api-mock-server.html",title:"API mock 服务",lang:"zh-CN",frontmatter:{title:"API mock 服务",description:"在约定好接口后，前后端会分头开发。此时，对定义好的接口进行 mock 就显得非常重要。",keywords:["React","架构","mock"],date:"2021-08-11T00:00:00.000Z",key:8},excerpt:'<div style="display:flex;align-items:center;justify-content:center;"><p style="text-align: center;margin-top:10px;color:#999;"><img src="/qrcode-c.jpg" style="width:200px;height:200px;display:block;margin:10px auto;opacity:0.8;" />关注微信公众号，获取最新推送~</p><p style="text-align: center;margin-top:10px;color:#999;"><img src="/card-c.jpeg" style="width:200px;height:200px;display:block;margin:10px auto;opacity:0.8;" />加微信，深入交流~</p></div>',headers:[],filePathRelative:"courses/architecture-of-react-app/api-mock-server.md"}},1693:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var s=r(6252);const c=(0,s.Uk)("可以使用 "),o={href:"https://mswjs.io/",target:"_blank",rel:"noopener noreferrer"},p=(0,s.Uk)("mswjs"),a=(0,s.Uk)(" 来对接口进行 mock。mswjs 通过 service worker 来实现 mock 能力。通过拦截所有的 HTTP 请求，根据定义好的 API 处理方式返回 mock 数据。"),i=(0,s.Wm)("p",null,"在开发过程中，当后端接口还在开发中，前端需要使用这个接口时，这个工具就非常有用。通过这个工具，我们不需要真正的后端服务，却可以像直接调用接口一样发起数据请求。",-1),l=(0,s.Uk)("mswjs 需要为每一个 API 定义处理函数，这里是"),n={href:"https://github.com/everfind/bulletproof-react/blob/master/src/test/server/handlers/auth.ts",target:"_blank",rel:"noopener noreferrer"},m=(0,s.Uk)("如何定义处理函数的样例"),d=(0,s.Uk)("。"),k=(0,s.Uk)("同时，mswjs 也需要定义接口的数据模型，这里是"),g={href:"https://github.com/everfind/bulletproof-react/blob/master/src/test/server/db.ts",target:"_blank",rel:"noopener noreferrer"},h=(0,s.Uk)("如何定义数据模型的样例"),u=(0,s.Uk)("。"),f=(0,s.uE)('<p>mswjs 可以实现像直接调用后端接口一样调用 API，也就是说它实现了数据的连续性。在写自动化测试时，这一点也非常有用，我们不需要为每一个接口 mock 数据了，我们直接向 mswjs 发数据请求就可以。</p><div style="display:flex;align-items:center;justify-content:center;"><p style="text-align:center;margin-top:10px;color:#999;"><img src="/qrcode-c.jpg" style="width:200px;height:200px;display:block;margin:10px auto;opacity:0.8;">关注微信公众号，获取最新推送~</p><p style="text-align:center;margin-top:10px;color:#999;"><img src="/card-c.jpeg" style="width:200px;height:200px;display:block;margin:10px auto;opacity:0.8;">加微信，深入交流~</p></div>',2),y={render:function(e,t){const r=(0,s.up)("OutboundLink");return(0,s.wg)(),(0,s.j4)(s.HY,null,[(0,s.Wm)("p",null,[c,(0,s.Wm)("a",o,[p,(0,s.Wm)(r)]),a]),i,(0,s.Wm)("p",null,[l,(0,s.Wm)("a",n,[m,(0,s.Wm)(r)]),d]),(0,s.Wm)("p",null,[k,(0,s.Wm)("a",g,[h,(0,s.Wm)(r)]),u]),f],64)}}}}]);