<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#5397d2"><script>
      var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?e772d8d7735057378a672ae311e9bf20";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
    </script><title>如何选择 NodeJS 框架？ | 众里千寻</title><meta name="description" content="NodeJS 框架越来越多，在做技术选型的时候难免会眼花缭乱。本文介绍一些选型的指导原则。"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.22">
    <link rel="preload" href="/assets/js/runtime~app.fa50ff6a.js" as="script"><link rel="preload" href="/assets/css/styles.e0095a00.css" as="style"><link rel="preload" href="/assets/js/3767.b5b9e7ce.js" as="script"><link rel="preload" href="/assets/js/app.8de2a662.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.e0095a00.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/" class=""><img class="logo" src="/hero-c.png" alt="众里千寻"><span class="site-name can-hide">众里千寻</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/courses/" class="nav-link" aria-label="学习笔记"><!--[--><!--]--> 学习笔记 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/solutions/" class="nav-link" aria-label="解决方案"><!--[--><!--]--> 解决方案 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/tools/" class="nav-link" aria-label="开发利器"><!--[--><!--]--> 开发利器 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/code-reading/" class="nav-link" aria-label="源码解读"><!--[--><!--]--> 源码解读 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/posts/" class="nav-link router-link-active" aria-label="最新消息"><!--[--><!--]--> 最新消息 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/everfind" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/courses/" class="nav-link" aria-label="学习笔记"><!--[--><!--]--> 学习笔记 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/solutions/" class="nav-link" aria-label="解决方案"><!--[--><!--]--> 解决方案 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/tools/" class="nav-link" aria-label="开发利器"><!--[--><!--]--> 开发利器 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/code-reading/" class="nav-link" aria-label="源码解读"><!--[--><!--]--> 源码解读 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/posts/" class="nav-link router-link-active" aria-label="最新消息"><!--[--><!--]--> 最新消息 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/everfind" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">如何选择 NodeJS 框架？</p><ul class=""><li><!--[--><a aria-current="page" href="/posts/2021/10/14/guildlines-for-nodejs-framework.html#我们的使用场景是什么" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="我们的使用场景是什么？"><!--[--><!--]--> 我们的使用场景是什么？ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/10/14/guildlines-for-nodejs-framework.html#框架的风格" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="框架的风格"><!--[--><!--]--> 框架的风格 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/10/14/guildlines-for-nodejs-framework.html#文档" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="文档"><!--[--><!--]--> 文档 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/10/14/guildlines-for-nodejs-framework.html#实用的样例" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="实用的样例"><!--[--><!--]--> 实用的样例 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/10/14/guildlines-for-nodejs-framework.html#社区生态" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="社区生态"><!--[--><!--]--> 社区生态 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/10/14/guildlines-for-nodejs-framework.html#项目的健康程度" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="项目的健康程度"><!--[--><!--]--> 项目的健康程度 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/10/14/guildlines-for-nodejs-framework.html#总结" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="总结"><!--[--><!--]--> 总结 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><p>作为一个有一定工作经验的工程师，工作中经常会遇到技术选型的问题。比如当我们在工作中需要使用到 NodeJS 时，第一个要解决的问题就是如何选择一个合适的框架。</p><p>不同的框架有不同的特点，如果我们仅仅从框架提供的能力出发，往往会迷失在对不同框架能力的对比中。如果能有一个清单，照着这个清单来考察每个框架，最终选出最符合要求的框架，那就真是太棒了！</p><p>我们今天就试图来讨论出一个检查清单，通过这个清单，我们可以找出最适合我们的框架。</p><h2 id="我们的使用场景是什么" tabindex="-1"><a class="header-anchor" href="#我们的使用场景是什么" aria-hidden="true">#</a> 我们的使用场景是什么？</h2><p>使用场景是最重要的考虑因素。在选择框架之前，先搞清楚我们的诉求是什么。</p><p>下面是一些常见的需要考虑的点：</p><ul><li><strong>我们的应用是全栈应用还是只提供 API 服务？</strong> 如果只提供 API 服务的话，是 <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener noreferrer">REST<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> 接口还是 <a href="https://graphql.org/" target="_blank" rel="noopener noreferrer">GraphQL<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> 接口？</li><li><strong>是否需要服务端渲染？</strong> 如果我们使用 React 或者 Vue 来开发页面的话，一些 NodeJS 框架本身提供了对这些 UI 框架的支持。</li><li><strong>是否需要实时响应？</strong> 如果我们需要使用到 WebSockets，是选择一个支持 WebSockets 的框架，还是找一个社区维护的第三方库来集成到框架中？</li><li><strong>是否支持 TypeScript？</strong> 我们是否要用 TypeScript 来开发应用？有些框架是使用 TypeScript 开发的，有些框架只提供了类型声明，而有些框架只有社区第三方维护的类型声明。即使我们不使用 TypeScript 开发，类型声明也可以通过编辑器提示给我们带来巨大的帮助。</li></ul><h2 id="框架的风格" tabindex="-1"><a class="header-anchor" href="#框架的风格" aria-hidden="true">#</a> 框架的风格</h2><p>有些框架除了处理 HTTP 请求和响应以外，还提供了类似于校验、日志、认证、数据库抽象以及依赖注入等其他丰富的功能。这些框架通常对开发者有一些额外的要求，比如要按照框架要求的形式来组织代码才能使用框架的一些能力。</p><p>有一些框架只提供处理 HTTP 请求和响应的基本能力。其他能力需要开发者自行实现或者从框架的生态中自行获取。使用这些框架的开发者自由度很高，可以自由组织代码形式。但是当需要一些其他功能时，开发者需要额外付出精力来筛选合适的社区实现。</p><p>还有一些框架采取了中庸的形式，即除了提供 HTTP 请求和响应的基本能力以外，还提供了稍许功能，比如日志和校验等。</p><p>选择哪种风格的框架，可以从上面列出的使用场景出发，也可以从个人和团队的风格偏好出发。</p><h2 id="文档" tabindex="-1"><a class="header-anchor" href="#文档" aria-hidden="true">#</a> 文档</h2><p>丰富的文档至关重要。没有人会想一边开发业务，一边通过阅读框架的代码来了解框架的能力。如果一个框架没有文档，我们应该拒绝使用。对于有文档的框架，我们如何评价文档的质量呢？</p><p>可以从下面几点出发：</p><ul><li><strong>是否可以方便的查找？</strong> 比如文档的结构是否容易理解？是否提供搜索功能？</li><li><strong>文档是否有意义？</strong> 文档很重要，有用的文档更重要。没有用的文档写的再多也没有意义。</li><li><strong>当写代码的时候，这些文档是否能派上用场？</strong> 阅读和理解如果做一件事是一回事，动手做一件事是另一回事。在我们写代码的时候，文档是否可以直接明确的帮助我们？</li></ul><h2 id="实用的样例" tabindex="-1"><a class="header-anchor" href="#实用的样例" aria-hidden="true">#</a> 实用的样例</h2><p>说的再多不如写一个样例给我。阅读文档有时候会让我们迷失方向，如同坠入一团雾中。如果有一些官方提供的实用样例的话，对理解框架以及解决实际问题的帮助就很大。官方提供的样例通常也会是解决某一个具体问题的最佳实践。</p><p>通常，我们可以在框架源代码的 <code>examples</code> 目录中找到样例，有些框架还会有一个专门的仓库来存放各种各样的样例。</p><h2 id="社区生态" tabindex="-1"><a class="header-anchor" href="#社区生态" aria-hidden="true">#</a> 社区生态</h2><p>一个框架的社区生态非常重要。在选择框架的时候，观察下框架是否有讨论组之类的东西。参与其中的人是否友好、是否乐于帮助他人等。</p><p>框架是否流行不能决定我们是否选择这个框架。但是我们在选择框架的时候，要了解是否有其他开发者也在使用。如果我们选择了一个被广泛使用的框架，那么我们通常可以找到其他开发者开发的类库（中间件或者插件等）。</p><p>一个仓库的 star 数量某种意义上能够代表框架的受欢迎程度。但是却不能准确的表达框架的使用情况，我们可以从框架的下载量着手。虽然有一些框架被其他类库内置使用，导致下载量很高，但是一定程度上可以说明框架在市面上的使用程度。我们可以在 <a href="https://www.npmtrends.com/" target="_blank" rel="noopener noreferrer">npm trends<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> 上看到框架的下载量变化。</p><h2 id="项目的健康程度" tabindex="-1"><a class="header-anchor" href="#项目的健康程度" aria-hidden="true">#</a> 项目的健康程度</h2><p>当我们决定选择一个框架的时候，我们还需要确保这个框架在可见的未来时间内依然能够得到有效的维护。</p><p>我们可以从下面几个方面来考察项目的健康程度：</p><ul><li><strong>版本发布频率</strong> 即使一个框架的功能已经非常完善了，安全更新和问题修复依然十分重要。因此在面对已经暂停维护或者很长时间没有发版的项目的时候，需要慎重考虑。</li><li><strong>官方在 issue 的活跃程度</strong> 如果一个项目的 issue 里官方成员的参与程度很低，可能在暗示这个项目已经不再维护了。相反，如果一个项目的 issue 很少，有可能说明社区对这个框架的使用程度很低。</li><li><strong>Pull request</strong> 一个健康的项目，通常都会有一些近期刚提交的 pull request。如果一个项目有很多很好的 pull request 没有合并，可能说明这个项目已经不再维护了。</li><li><strong>贡献者</strong> 如果一个框架的贡献者只有一两个人，说明社区对这个框架的关注度不高。同时较少的贡献者，会给框架的长期维护带来不确定性。一个健康的框架，应该有很多贡献者参与进来。</li><li><strong>项目依赖</strong> 一个有着很多依赖的框架，可能受攻击的地方也很多。同时，太多的依赖也可能给开发调试带来很多问题。我们可以通过 <a href="https://npmgraph.js.org/" target="_blank" rel="noopener noreferrer">npmgraph<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> 这个工具才查看一个项目的依赖情况。</li></ul><p>这里有一些评价一个项目健康度的工具可以使用：</p><ul><li><strong><a href="https://snyk.io/advisor/" target="_blank" rel="noopener noreferrer">Synk Open Source Advisor<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></strong> 这个工具会从多方收集一个包的数据，然后给出这个包的打分。</li><li><strong>GitHub 仓库的 &quot;Insights&quot; Tab 页</strong> GitHub 上每个仓库中的这个 Tab 提供了这个仓库近期的活动情况，包括发版、pull request、issue 和贡献者等。</li><li><strong><a href="https://moiva.io/" target="_blank" rel="noopener noreferrer">Moiva<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></strong> 这是一个开源工具，与上面两个工具提供的能力相同。但是这个工具允许我们同时对比多个框架。</li></ul><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>在选择一个 NodeJS 框架的时候，我们有很多方面需要考虑。但是最后也是最重要的一点是，我们在使用这个框架的时候，是否享受使用它的过程。如果不是，那么即使框架解决了一些问题，我们也会非常难受。</p><p>选择一个靠谱的 NodeJS 框架有时候非常棘手，希望这个检查列表能给正在做框架选型的人一些帮助。</p><div style="display:flex;align-items:center;justify-content:center;"><p style="text-align:center;margin-top:10px;color:#999;"><img src="/qrcode-c.jpg" style="width:200px;height:200px;display:block;margin:10px auto;opacity:0.8;">关注微信公众号，获取最新推送~</p><p style="text-align:center;margin-top:10px;color:#999;"><img src="/card-c.jpeg" style="width:200px;height:200px;display:block;margin:10px auto;opacity:0.8;">加微信，深入交流~</p></div><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main></div><!----><!----><!--]--></div>
    <script src="/assets/js/runtime~app.fa50ff6a.js" defer></script><script src="/assets/js/3767.b5b9e7ce.js" defer></script><script src="/assets/js/app.8de2a662.js" defer></script>
  </body>
</html>
